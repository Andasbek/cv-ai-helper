# –§—Ä–æ–Ω—Ç–µ–Ω–¥ (Streamlit)

## –û–±–∑–æ—Ä

–§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ [Streamlit](https://streamlit.io/) ‚Äî Python-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è data-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π `.py` —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ `frontend/pages/`.

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
frontend/
‚îú‚îÄ‚îÄ app.py               # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏ overview)
‚îú‚îÄ‚îÄ api_client.py        # HTTP-–∫–ª–∏–µ–Ω—Ç –∫ FastAPI backend
‚îî‚îÄ‚îÄ pages/
    ‚îú‚îÄ‚îÄ 1_Upload_CV.py   # –°—Ç—Ä–∞–Ω–∏—Ü–∞ 1: –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä CV
    ‚îú‚îÄ‚îÄ 2_CV_Analysis.py # –°—Ç—Ä–∞–Ω–∏—Ü–∞ 2: AI-–∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—é–º–µ
    ‚îú‚îÄ‚îÄ 3_JD_Match.py    # –°—Ç—Ä–∞–Ω–∏—Ü–∞ 3: —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –≤–∞–∫–∞–Ω—Å–∏–µ–π
    ‚îî‚îÄ‚îÄ 4_Interview.py   # –°—Ç—Ä–∞–Ω–∏—Ü–∞ 4: –∏–Ω—Ç–µ—Ä–≤—å—é-—á–∞—Ç –∏ –æ—Ç—á—ë—Ç
```

Streamlit –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é –∏–∑ —Ñ–∞–π–ª–æ–≤ –≤ `pages/`. –ü–æ—Ä—è–¥–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ–≤—ã–º –ø—Ä–µ—Ñ–∏–∫—Å–æ–º –≤ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ (`1_`, `2_`, ...).

---

## `api_client.py` ‚Äî HTTP-–∫–ª–∏–µ–Ω—Ç

**–§–∞–π–ª:** [frontend/api_client.py](../frontend/api_client.py)

–ú–æ–¥—É–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±—ë—Ä—Ç–∫–∏ –Ω–∞–¥ `requests` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ backend. –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `resp.raise_for_status()` ‚Äî –ø—Ä–∏ HTTP-–æ—à–∏–±–∫–µ –±—Ä–æ—Å–∞–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ Streamlit —á–µ—Ä–µ–∑ `try/except`.

**URL backend** —á–∏—Ç–∞–µ—Ç—Å—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `BACKEND_URL` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `http://localhost:8000`).

| –§—É–Ω–∫—Ü–∏—è | –≠–Ω–¥–ø–æ–∏–Ω—Ç |
|---------|----------|
| `upload_cv(bytes, filename)` | `POST /api/cv/upload` |
| `get_cv(cv_id)` | `GET /api/cv/{cv_id}` |
| `analyze_cv(cv_id)` | `POST /api/cv/{cv_id}/analyze` |
| `delete_cv(cv_id)` | `DELETE /api/cv/{cv_id}` |
| `create_jd(text)` | `POST /api/jd` |
| `match_cv_jd(cv_id, jd_id)` | `POST /api/match` |
| `start_interview(...)` | `POST /api/interview/start` |
| `send_interview_message(session_id, answer)` | `POST /api/interview/{id}/message` |
| `finish_interview(session_id)` | `POST /api/interview/{id}/finish` |

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (`session_state`)

Streamlit –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –≤–µ—Å—å —Å–∫—Ä–∏–ø—Ç –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –î–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `st.session_state`.

**–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è:**

| –ö–ª—é—á | –¢–∏–ø | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ |
|------|-----|-----------------------------|
| `cv_id` | `int` | 1_Upload_CV |
| `cv_sections` | `list[dict]` | 1_Upload_CV |
| `cv_raw_text` | `str` | 1_Upload_CV |
| `cv_analysis` | `dict` | 2_CV_Analysis |
| `jd_id` | `int` | 3_JD_Match |
| `jd_requirements` | `dict` | 3_JD_Match |
| `match_result` | `dict` | 3_JD_Match |
| `session_id` | `int` | 4_Interview |
| `interview_messages` | `list[dict]` | 4_Interview |
| `question_number` | `int` | 4_Interview |
| `total_questions` | `int` | 4_Interview |
| `interview_is_last` | `bool` | 4_Interview |
| `interview_finished` | `bool` | 4_Interview |
| `final_report` | `dict` | 4_Interview |

---

## –°—Ç—Ä–∞–Ω–∏—Ü—ã

### `app.py` ‚Äî –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º —à–∞–≥–æ–≤ —Ä–∞–±–æ—Ç—ã –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ–π. –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ CV –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å (`cv_id`).

---

### `1_Upload_CV.py` ‚Äî –ó–∞–≥—Ä—É–∑–∫–∞ CV

**–§—É–Ω–∫—Ü–∏–∏:**
- `st.file_uploader` –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞ (—Ç–∏–ø—ã: `pdf`, `txt`)
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞: –≤—ã–∑–æ–≤ `upload_cv()` ‚Üí `get_cv()` ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `session_state`
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–π –≤ `st.expander` (–ø–æ 2 –∫–æ–ª–æ–Ω–∫–∏)
- –ö–Ω–æ–ø–∫–∞ "–£–¥–∞–ª–∏—Ç—å —Ç–µ–∫—É—â–∏–π CV" –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–ò–∫–æ–Ω–∫–∏ —Å–µ–∫—Ü–∏–π:**

| –°–µ–∫—Ü–∏—è | –ò–∫–æ–Ω–∫–∞ |
|--------|--------|
| contacts | üìû |
| summary | üë§ |
| skills | üõ†Ô∏è |
| experience | üíº |
| education | üéì |
| projects | üöÄ |
| certifications | üìú |
| languages | üåç |
| other | üìã |

---

### `2_CV_Analysis.py` ‚Äî –ê–Ω–∞–ª–∏–∑ CV

**–§—É–Ω–∫—Ü–∏–∏:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è `cv_id` –≤ `session_state` (—Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ)
- –ö–Ω–æ–ø–∫–∞ "Run AI Analysis" ‚Üí –≤—ã–∑–æ–≤ `analyze_cv()` ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `session_state`
- –ö–Ω–æ–ø–∫–∞ "Re-run Analysis" –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:**

| –¢–∏–ø | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¶–≤–µ—Ç |
|-----|-----------|------|
| Issues | `st.error()` | –ö—Ä–∞—Å–Ω—ã–π |
| Tips | `st.success()` | –ó–µ–ª—ë–Ω—ã–π |
| Rewrites (before) | HTML div | `#ffebee` (—Å–≤–µ—Ç–ª–æ-–∫—Ä–∞—Å–Ω—ã–π) |
| Rewrites (after) | HTML div | `#e8f5e9` (—Å–≤–µ—Ç–ª–æ-–∑–µ–ª—ë–Ω—ã–π) |

–°–µ–∫—Ü–∏–∏ Issues –∏ Tips –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –¥–≤—É—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö.

---

### `3_JD_Match.py` ‚Äî –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –≤–∞–∫–∞–Ω—Å–∏–µ–π

**–§—É–Ω–∫—Ü–∏–∏:**
- `st.text_area` –¥–ª—è –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞ –≤–∞–∫–∞–Ω—Å–∏–∏
- –ö–Ω–æ–ø–∫–∞ "Extract Requirements" ‚Üí `create_jd()` ‚Üí –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
- –ö–Ω–æ–ø–∫–∞ "Run CV vs JD Match" ‚Üí `match_cv_jd()` ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ match score:**

```
[ Score –ß–∏—Å–ª–æ ] [ Progress Bar ]
```

–¶–≤–µ—Ç —á–∏—Å–ª–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω–∞:
- ‚â•70 ‚Üí –∑–µ–ª—ë–Ω—ã–π (`#4caf50`)
- 40‚Äì69 ‚Üí –æ—Ä–∞–Ω–∂–µ–≤—ã–π (`#ff9800`)
- <40 ‚Üí –∫—Ä–∞—Å–Ω—ã–π (`#f44336`)

–ù–∞–≤—ã–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –¥–≤—É—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö: matched (–∑–µ–ª—ë–Ω—ã–π) vs missing (–∫—Ä–∞—Å–Ω—ã–π).

---

### `4_Interview.py` ‚Äî –ò–Ω—Ç–µ—Ä–≤—å—é

–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–º–µ–µ—Ç —Ç—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è:

```
1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (–Ω–µ—Ç session_id)
       ‚Üì –∫–Ω–æ–ø–∫–∞ "Start Interview"
2. –ê–∫—Ç–∏–≤–Ω—ã–π —á–∞—Ç (–µ—Å—Ç—å session_id, interview_finished=False)
       ‚Üì –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –æ—Ç–≤–µ—á–µ–Ω—ã (is_last=True) + –∫–Ω–æ–ø–∫–∞ "Get Final Report"
3. –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç (interview_finished=True)
       ‚Üì –∫–Ω–æ–ø–∫–∞ "Start a New Interview" ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –∫ —à–∞–≥—É 1
```

#### –®–∞–≥ 1 ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∞

- –í—ã–±–æ—Ä —É—Ä–æ–≤–Ω—è: `st.selectbox` (junior/mid/senior)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤: `st.slider` (5‚Äì15)
- –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –¥–ª—è company info
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å JD –µ—Å–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–∞

#### –®–∞–≥ 2 ‚Äî –ê–∫—Ç–∏–≤–Ω—ã–π —á–∞—Ç

- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –≤–≤–µ—Ä—Ö—É (`question_number / total_questions`)
- –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ `st.chat_message(role)`:
  - `assistant` ‚Äî –≤–æ–ø—Ä–æ—Å—ã –∏ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
  - `user` ‚Äî –æ—Ç–≤–µ—Ç—ã –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
- –°–æ–æ–±—â–µ–Ω–∏—è —Å –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫—É—Ä—Å–∏–≤–æ–º (—Å –ø—Ä–µ—Ñ–∏–∫—Å–∞ `[Feedback]`)
- –í–≤–æ–¥ —á–µ—Ä–µ–∑ `st.chat_input` (–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –∫–æ–≥–¥–∞ `is_last=True`)
- –ü–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞: –∫–Ω–æ–ø–∫–∞ "Get Final Report"

#### –®–∞–≥ 3 ‚Äî –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç (—Ñ—É–Ω–∫—Ü–∏—è `_render_final_report`)

- –ë–æ–ª—å—à–æ–π —Ü–≤–µ—Ç–Ω–æ–π –±–ª–æ–∫ —Å `overall_score`
- –¢–∞–±–ª–∏—Ü–∞ –∏–∑ 5 –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ —Å `st.metric` + –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
- Strengths (–∑–µ–ª—ë–Ω—ã–π) –∏ Weaknesses (–æ—Ä–∞–Ω–∂–µ–≤—ã–π) –≤ –¥–≤—É—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `st.info`
- –ü—Ä–∏–º–µ—Ä—ã —É–ª—É—á—à–µ–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –≤ `st.expander` —Å —Ü–≤–µ—Ç–Ω—ã–º–∏ –±–ª–æ–∫–∞–º–∏

---

## –ó–∞–ø—É—Å–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ :8000
streamlit run frontend/app.py
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ URL backend** (–µ—Å–ª–∏ backend –Ω–∞ –¥—Ä—É–≥–æ–º –∞–¥—Ä–µ—Å–µ):

```bash
BACKEND_URL=http://192.168.1.100:8000 streamlit run frontend/app.py
```

–ò–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ `.env`:
```dotenv
BACKEND_URL=http://192.168.1.100:8000
```

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Streamlit

- **–ù–µ—Ç WebSocket**: –∏–Ω—Ç–µ—Ä–≤—å—é-—á–∞—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã, –±–µ–∑ streaming
- **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞**: –∫–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –≤–µ—Å—å Python-—Å–∫—Ä–∏–ø—Ç ‚Äî –ø–æ—ç—Ç–æ–º—É –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `session_state`
- **–û–¥–∏–Ω –ø–æ—Ç–æ–∫**: Streamlit –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏–∑ –æ–¥–Ω–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞
- **`st.rerun()`**: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI –ø–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏ –≤ `session_state`
